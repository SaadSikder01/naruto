<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>পোস্ট গ্যালারি</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background:#000; color:#fff; }
    </style>
</head>

<body>

<div class="container py-5">
    <h1 class="text-center mb-5 display-3 text-warning">সব পোস্ট</h1>

    <div class="text-center mb-4">
        <a href="index.html" class="btn btn-success btn-lg">নতুন পোস্ট করো</a>
    </div>

    <div id="gallery" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"></div>
    <div class="text-center py-5" id="empty"><h2>এখনো কোনো পোস্ট নেই</h2></div>
</div>

<script>
function load(){
    const posts = JSON.parse(localStorage.getItem("realPosts") || "[]");
    const gallery = document.getElementById('gallery');

    gallery.innerHTML = "";

    if (posts.length === 0) {
        document.getElementById('empty').style.display = "block";
        return;
    }

    document.getElementById('empty').style.display = "none";

    posts.forEach(p => {
        const media = p.type === "video"
            ? `<video src="${p.url}" controls class="w-100 rounded"></video>`
            : `<img src="${p.url}" class="w-100 rounded">`;

        gallery.innerHTML += `
            <div class="col">
                <div class="bg-dark p-3 rounded">
                    ${media}
                    <p class="mt-2">${p.caption}</p>
                    <small>${p.time}</small>
                </div>
            </div>`;
    });
}

load();
</script>

</body>
</html>
